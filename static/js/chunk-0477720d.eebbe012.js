(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0477720d"],{"064e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"right-side"},[a("el-main",{staticStyle:{padding:"20px"}},[a("el-card",[a("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:t.$t("objects.administration.queue._title"),name:"queue_info"}},[a("queue-info")],1)],1)],1)],1)],1)},i=[],o=a("5559"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleUpdate}},[a("i",{staticClass:"icon el-icon-edit"}),t._v(" "+t._s(t.$t("form.edit"))+" ")])],1),a("div",[a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.identifier._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.identifier))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.status._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.$t("form.selectables.queueStatus."+t.queue.status)))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.patient._title")+" "+t.$t("objects.administration.patient.identifier._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.patient&&t.queue.patient.identifier))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.patient.name._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.patient&&t.queue.patient.name))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.patient.gender._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.$t("form.selectables.gender."+(t.queue.patient&&t.queue.patient.gender))))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.location._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.location))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.note._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.note&&t.queue.note.join(", ")))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.emergency._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.$t("form.selectables.boolean."+(t.queue.emergency?"yes":"no"))))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.responsibleBy._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.responsibleBy))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.createdBy._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.queue.createdBy))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.createdAt._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.properDateTime(t.queue.createdAt)))])],1)]),a("el-row",{attrs:{gutter:20}},[a("code",[a("el-col",{attrs:{span:5,offset:0}},[a("b",[t._v(t._s(t.$t("objects.administration.queue.updatedAt._title")))])]),a("el-col",{attrs:{span:1,offset:0}},[t._v(":")]),a("el-col",{attrs:{span:5,offset:0}},[t._v(t._s(t.properDateTime(t.queue.updatedAt)))])],1)])],1),a("el-dialog",{attrs:{title:t.$t("form.edit"),visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"100%"},attrs:{model:t.temp,"label-position":"left","label-width":"auto"}},[a("el-form-item",{attrs:{rules:t.getRules("queue","status",{}),label:t.$t("objects.administration.queue.status._title"),prop:"status"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.status._description")))]),a("el-select",{staticClass:"filter-item",attrs:{placeholder:t.$t("objects.administration.queue.status._title")},model:{value:t.temp.status,callback:function(e){t.$set(t.temp,"status",e)},expression:"temp.status"}},t._l(t.statusTypes,(function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}},[a("span",[t._v(" "+t._s(e.display_name)+" ")])])})),1)],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","location",{min:3,max:19}),label:t.$t("objects.administration.queue.location._title"),prop:"location"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.location._description")))]),a("el-input",{attrs:{clearable:"",placeholder:t.$t("objects.administration.queue.location._title")},model:{value:t.temp.location,callback:function(e){t.$set(t.temp,"location",e)},expression:"temp.location"}})],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","note",{}),label:t.$t("objects.administration.queue.note._title"),prop:"note"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.note._description")))]),a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:t.$t("objects.administration.queue.note._title"),filterable:"","allow-create":"",multiple:"","reserve-keyword":""},model:{value:t.temp.note,callback:function(e){t.$set(t.temp,"note",e)},expression:"temp.note"}})],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","emergency",{}),label:t.$t("objects.administration.queue.emergency._title"),prop:"emergency"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.emergency._description")))]),a("el-checkbox",{attrs:{checked:""},model:{value:t.temp.emergency,callback:function(e){t.$set(t.temp,"emergency",e)},expression:"temp.emergency"}})],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","responsibleBy",{min:3,max:19}),label:t.$t("objects.administration.queue.responsibleBy._title"),prop:"responsibleBy"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.responsibleBy._description")))]),a("el-input",{attrs:{clearable:"",placeholder:t.$t("objects.administration.queue.responsibleBy._title")},model:{value:t.temp.responsibleBy,callback:function(e){t.$set(t.temp,"responsibleBy",e)},expression:"temp.responsibleBy"}})],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","createdBy",{min:3,max:19}),label:t.$t("objects.administration.queue.createdBy._title"),prop:"createdBy"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.createdBy._description")))]),a("el-input",{attrs:{clearable:"",placeholder:t.$t("objects.administration.queue.createdBy._title")},model:{value:t.temp.createdBy,callback:function(e){t.$set(t.temp,"createdBy",e)},expression:"temp.createdBy"}})],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","createdAt",{}),label:t.$t("objects.administration.queue.createdAt._title"),prop:"createdAt"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.createdAt._description")))]),a("el-date-picker",{attrs:{type:"datetime",placeholder:t.$t("objects.administration.queue.createdAt._title")},model:{value:t.temp.createdAt,callback:function(e){t.$set(t.temp,"createdAt",e)},expression:"temp.createdAt"}})],1)],1),a("el-form-item",{attrs:{rules:t.getRules("queue","updatedAt",{}),label:t.$t("objects.administration.queue.updatedAt._title"),prop:"updatedAt"}},[a("el-tooltip",{attrs:{"open-delay":1e3,"hide-after":5e3,enterable:!1,placement:"top-start",effect:"dark"}},[a("p",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("objects.administration.queue.updatedAt._description")))]),a("el-date-picker",{attrs:{type:"datetime",placeholder:t.$t("objects.administration.queue.updatedAt._title")},model:{value:t.temp.updatedAt,callback:function(e){t.$set(t.temp,"updatedAt",e)},expression:"temp.updatedAt"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" "+t._s(t.$t("form.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v(" "+t._s(t.$t("form.confirm"))+" ")])],1)],1)],1)},l=[],r=a("5530"),c=(a("fb6a"),a("d81d"),a("99af"),{name:"QueueDetail",data:function(){return{dialogFormVisible:!1,temp:Object(r["a"])({},this.$store.state.administration.queue.sample)}},computed:{queue:function(){for(var t=Object.assign({},this.$store.state.administration.queue.data),e=0;e<this.$store.state.administration.queue.specialProperties.length;e++)delete t[this.$store.state.administration.queue.specialProperties[e]];return t},statusTypes:function(){return[{key:"wait",display_name:this.$i18n.t("form.selectables.queueStatus.wait")},{key:"go",display_name:this.$i18n.t("form.selectables.queueStatus.go")},{key:"noshow",display_name:this.$i18n.t("form.selectables.queueStatus.noshow")},{key:"closed",display_name:this.$i18n.t("form.selectables.queueStatus.closed")}]}},methods:{handleUpdate:function(){var t=this;this.temp=Object.assign({},this.queue),this.temp.patient=this.temp.patient.identifier,this.temp.createdAt=new Date(this.temp.createdAt),this.temp.updatedAt=new Date(this.temp.updatedAt),this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var a=Object.assign({},t.temp);Object(o["d"])(a).then((function(){t.$store.dispatch("administration/updateQueue",t.temp),t.$root.$emit("updateQueue",t.temp),t.dialogFormVisible=!1,t.$notify({title:t.$i18n.t("notifications.success"),message:t.$i18n.t("notifications.msg1"),type:"success",duration:2e3})}))}}))},properDateTime:function(t){if(!t)return"";var e=new Date(t);return("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)+"-"+e.getFullYear()+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)},getRules:function(t,e,a){var s=this,i=a.min,o=void 0===i?null:i,n=a.max,l=void 0===n?null:n,r=a.len,c=void 0===r?null:r,u=this.$store.state.administration[t].rules[e]||[];return u.map((function(a){var i={property:s.$i18n.t("objects.administration.".concat(t,".").concat(e,"._title")),min:o,max:l,len:c};return a.message=s.$i18n.t("form.validationRules."+a._rule,i),a}))}}}),u=c,d=a("2877"),p=Object(d["a"])(u,n,l,!1,null,null,null),m=p.exports,f={name:"QueueDetail",components:{QueueInfo:m},props:{},data:function(){return{activeTab:"queue_info",loading:!0}},computed:{},created:function(){this.getQueue()},methods:{getQueue:function(){var t=this;this.loading=!0;var e=this.$route.params.id;Object(o["c"])(e).then((function(e){t.$store.dispatch("administration/updateQueue",e.data),t.loading=!1}))}},beforeRouteLeave:function(t,e,a){this.$store.dispatch("administration/clearQueue"),a()}},b=f,_=(a("d594"),Object(d["a"])(b,s,i,!1,null,"f44d6972",null));e["default"]=_.exports},5559:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return l})),a.d(e,"d",(function(){return r}));var s=a("b775"),i=a("08f9");function o(t){return Object(s["a"])({url:Object(i["a"])()+"/queue/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:Object(i["a"])()+"/queue/detail",method:"get",params:{id:t}})}function l(t){return Object(s["a"])({url:Object(i["a"])()+"/queue/create",method:"post",data:t})}function r(t){return Object(s["a"])({url:Object(i["a"])()+"/queue/update",method:"post",data:t})}},d594:function(t,e,a){"use strict";a("f963")},f963:function(t,e,a){}}]);